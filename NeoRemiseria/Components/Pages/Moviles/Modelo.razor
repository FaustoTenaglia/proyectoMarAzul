@page "/modelo"
@using NeoRemiseria
@using Models
@using Services

@inject DbremiseriaContext _context
@inject IVista<VModelo> VModeloService
@inject IJSRuntime JSRuntime

<h5>Modelos</h5>

@if(modelos != null){
    <table class="table table-hover">
        <thead>
            <tr class="table-dark">
                <th>#</th>
                <th>Nombre</th>
                <th colspan="2">Marca</th>
            </tr>
        </thead>
        <tbody>
            @foreach(var modelo in modelos){
                <tr>
                    <td>@modelo.Id</td>
                    <td>@modelo.Nombre</td>
                    <td>@modelo.Marca</td>
                    <td class="btn-group-sm">
                        <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#EditForm">
                            <i class="bi bi-pen-fill"></i>
                        </button>
                        <button class="btn btn-outline-danger">
                            <i class="bi bi-trash"></i>
                        </button>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}

<div class="modal fade" id="EditForm" data-bs-backdrop="static">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5">Modelos</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="input-group p-2">
                    <span class="input-group-text">Nombre</span>
                    <input type="text" class="form-control">
                </div>
                <div class="input-group p-2">
                    <span class="input-group-text">Marca</span>
                    <input type="select" class="form-control">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button"class="btn btn-success" data-bs-dismiss="modal">Aceptar</button>
                <button type="button"class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

@code{
    private List<VModelo>? modelos;
    
    protected override async Task OnInitializedAsync(){
        modelos = await VModeloService.GetAll();
    }
}